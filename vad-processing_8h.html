<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Locaal SDK: src/modules/transcription/include/vad-processing.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Locaal SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_a0de90b3a5fa6386a9cfddb498134916.html">transcription</a></li><li class="navelem"><a class="el" href="dir_1486fe35607b194bec49221a94fd44b1.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vad-processing.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for Voice Activity Detection (VAD) processing.  
<a href="#details">More...</a></p>

<p><a href="vad-processing_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvad__state.html">vad_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the state of the Voice Activity Detection (VAD) process.  <a href="structvad__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5ed609263a901db242ce9ada9becd631"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631">VadState</a> { <a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631acd793438b4190c878eb534f17fe95483">VAD_STATE_WAS_ON</a> = 0
, <a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631ab448aee5b37bc145cf824dfc8b5cc19c">VAD_STATE_WAS_OFF</a>
, <a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631ab3c4a65f0121fa840e354fb9c7946551">VAD_STATE_IS_OFF</a>
, <a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631ae22571beb235f959760fd20d980c3c97">VAD_STATE_PARTIAL</a>
 }</td></tr>
<tr class="separator:a5ed609263a901db242ce9ada9becd631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfabf700ec50b147adde9e4bd14f24d1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8h.html#abfabf700ec50b147adde9e4bd14f24d1">VadMode</a> { <a class="el" href="vad-processing_8h.html#abfabf700ec50b147adde9e4bd14f24d1a5d2cdebce073eeee338c46fc81f253f1">VAD_MODE_ACTIVE</a> = 0
, <a class="el" href="vad-processing_8h.html#abfabf700ec50b147adde9e4bd14f24d1a0e977d76e93ec3cbe8420c3780561ffd">VAD_MODE_HYBRID</a>
, <a class="el" href="vad-processing_8h.html#abfabf700ec50b147adde9e4bd14f24d1af06f1804c5e25978c08cc704c5d62ec8">VAD_MODE_DISABLED</a>
 }</td></tr>
<tr class="separator:abfabf700ec50b147adde9e4bd14f24d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c02bab809bfa09716ad8876ee3b7763"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8h.html#a3c02bab809bfa09716ad8876ee3b7763">vad_based_segmentation</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, <a class="el" href="structvad__state.html">vad_state</a> last_vad_state)</td></tr>
<tr class="memdesc:a3c02bab809bfa09716ad8876ee3b7763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments audio data based on Voice Activity Detection (VAD).  <a href="vad-processing_8h.html#a3c02bab809bfa09716ad8876ee3b7763">More...</a><br /></td></tr>
<tr class="separator:a3c02bab809bfa09716ad8876ee3b7763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1204aac912e7890f40cb46c012f2b700"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8h.html#a1204aac912e7890f40cb46c012f2b700">hybrid_vad_segmentation</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, <a class="el" href="structvad__state.html">vad_state</a> last_vad_state)</td></tr>
<tr class="memdesc:a1204aac912e7890f40cb46c012f2b700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments audio data using a hybrid Voice Activity Detection (VAD) algorithm.  <a href="vad-processing_8h.html#a1204aac912e7890f40cb46c012f2b700">More...</a><br /></td></tr>
<tr class="separator:a1204aac912e7890f40cb46c012f2b700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bfad207777817e7875f932a48aaee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8h.html#a83bfad207777817e7875f932a48aaee9">initialize_vad</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, const char *silero_vad_model_file)</td></tr>
<tr class="memdesc:a83bfad207777817e7875f932a48aaee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Voice Activity Detection (VAD) system.  <a href="vad-processing_8h.html#a83bfad207777817e7875f932a48aaee9">More...</a><br /></td></tr>
<tr class="separator:a83bfad207777817e7875f932a48aaee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for Voice Activity Detection (VAD) processing. </p>
<p>This file contains the declarations for VAD state and mode enums, the <a class="el" href="structvad__state.html" title="Represents the state of the Voice Activity Detection (VAD) process.">vad_state</a> structure, and functions for VAD-based segmentation.</p>
<p>Enums:</p><ul>
<li>VadState: Represents the state of the VAD.<ul>
<li>VAD_STATE_WAS_ON: VAD was previously on.</li>
<li>VAD_STATE_WAS_OFF: VAD was previously off.</li>
<li>VAD_STATE_IS_OFF: VAD is currently off.</li>
<li>VAD_STATE_PARTIAL: VAD is in a partial state.</li>
</ul>
</li>
<li>VadMode: Represents the mode of the VAD.<ul>
<li>VAD_MODE_ACTIVE: VAD is active.</li>
<li>VAD_MODE_HYBRID: VAD is in hybrid mode.</li>
<li>VAD_MODE_DISABLED: VAD is disabled.</li>
</ul>
</li>
</ul>
<p>Structs:</p><ul>
<li><a class="el" href="structvad__state.html" title="Represents the state of the Voice Activity Detection (VAD) process.">vad_state</a>: Structure to hold the state of the VAD.<ul>
<li>bool vad_on: Indicates if VAD is on.</li>
<li>uint64_t start_ts_offest_ms: Start timestamp offset in milliseconds.</li>
<li>uint64_t end_ts_offset_ms: End timestamp offset in milliseconds.</li>
<li>uint64_t last_partial_segment_end_ts: Timestamp of the last partial segment end.</li>
</ul>
</li>
</ul>
<p>Functions:</p><ul>
<li><a class="el" href="structvad__state.html" title="Represents the state of the Voice Activity Detection (VAD) process.">vad_state</a> <a class="el" href="vad-processing_8h.html#a3c02bab809bfa09716ad8876ee3b7763" title="Segments audio data based on Voice Activity Detection (VAD).">vad_based_segmentation(transcription_context *gf, vad_state last_vad_state)</a>: Performs VAD-based segmentation.</li>
<li><a class="el" href="structvad__state.html" title="Represents the state of the Voice Activity Detection (VAD) process.">vad_state</a> <a class="el" href="vad-processing_8h.html#a1204aac912e7890f40cb46c012f2b700" title="Segments audio data using a hybrid Voice Activity Detection (VAD) algorithm.">hybrid_vad_segmentation(transcription_context *gf, vad_state last_vad_state)</a>: Performs hybrid VAD segmentation.</li>
<li>void <a class="el" href="vad-processing_8h.html#a83bfad207777817e7875f932a48aaee9" title="Initializes the Voice Activity Detection (VAD) system.">initialize_vad(transcription_context *gf, const char *silero_vad_model_file)</a>: Initializes the VAD with the given model file. </li>
</ul>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="abfabf700ec50b147adde9e4bd14f24d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfabf700ec50b147adde9e4bd14f24d1">&#9670;&nbsp;</a></span>VadMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="vad-processing_8h.html#abfabf700ec50b147adde9e4bd14f24d1">VadMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abfabf700ec50b147adde9e4bd14f24d1a5d2cdebce073eeee338c46fc81f253f1"></a>VAD_MODE_ACTIVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abfabf700ec50b147adde9e4bd14f24d1a0e977d76e93ec3cbe8420c3780561ffd"></a>VAD_MODE_HYBRID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abfabf700ec50b147adde9e4bd14f24d1af06f1804c5e25978c08cc704c5d62ec8"></a>VAD_MODE_DISABLED&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a5ed609263a901db242ce9ada9becd631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed609263a901db242ce9ada9becd631">&#9670;&nbsp;</a></span>VadState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="vad-processing_8h.html#a5ed609263a901db242ce9ada9becd631">VadState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5ed609263a901db242ce9ada9becd631acd793438b4190c878eb534f17fe95483"></a>VAD_STATE_WAS_ON&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5ed609263a901db242ce9ada9becd631ab448aee5b37bc145cf824dfc8b5cc19c"></a>VAD_STATE_WAS_OFF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5ed609263a901db242ce9ada9becd631ab3c4a65f0121fa840e354fb9c7946551"></a>VAD_STATE_IS_OFF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5ed609263a901db242ce9ada9becd631ae22571beb235f959760fd20d980c3c97"></a>VAD_STATE_PARTIAL&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1204aac912e7890f40cb46c012f2b700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1204aac912e7890f40cb46c012f2b700">&#9670;&nbsp;</a></span>hybrid_vad_segmentation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvad__state.html">vad_state</a> hybrid_vad_segmentation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td>
          <td class="paramname"><em>last_vad_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments audio data using a hybrid Voice Activity Detection (VAD) algorithm. </p>
<p>This function processes the given transcription context to determine the current VAD state based on the provided last VAD state. It is used to segment audio data into speech and non-speech segments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context containing audio data and other relevant information. </td></tr>
    <tr><td class="paramname">last_vad_state</td><td>The last known VAD state, used as a reference for the current segmentation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current VAD state after processing the audio data. </dd></dl>

</div>
</div>
<a id="a83bfad207777817e7875f932a48aaee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83bfad207777817e7875f932a48aaee9">&#9670;&nbsp;</a></span>initialize_vad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_vad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>silero_vad_model_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Voice Activity Detection (VAD) system. </p>
<p>This function sets up the VAD system using the provided transcription context and the specified Silero VAD model file. It prepares the system to detect voice activity in audio streams.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context structure. </td></tr>
    <tr><td class="paramname">silero_vad_model_file</td><td>Path to the Silero VAD model file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c02bab809bfa09716ad8876ee3b7763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c02bab809bfa09716ad8876ee3b7763">&#9670;&nbsp;</a></span>vad_based_segmentation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvad__state.html">vad_state</a> vad_based_segmentation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td>
          <td class="paramname"><em>last_vad_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments audio data based on Voice Activity Detection (VAD). </p>
<p>This function processes the given transcription context to determine segments of audio that contain speech, using the provided last VAD state as a reference.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context containing audio data and other relevant information for VAD processing. </td></tr>
    <tr><td class="paramname">last_vad_state</td><td>The last known state of the VAD, used to maintain continuity in segmentation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The updated VAD state after processing the current audio data. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
