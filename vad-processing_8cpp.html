<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Locaal SDK: src/modules/transcription/src/vad-processing.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Locaal SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_a0de90b3a5fa6386a9cfddb498134916.html">transcription</a></li><li class="navelem"><a class="el" href="dir_dd6af82c89f72620149379db2da3147c.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vad-processing.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="transcription-context_8h_source.html">transcription-context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vad-processing_8h_source.html">vad-processing.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc1a8ca89e8e894e151e881cc6b65b0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8cpp.html#acc1a8ca89e8e894e151e881cc6b65b0e">get_data_from_buf_and_resample</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, uint64_t &amp;start_timestamp_offset_ns, uint64_t &amp;end_timestamp_offset_ns)</td></tr>
<tr class="separator:acc1a8ca89e8e894e151e881cc6b65b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c02bab809bfa09716ad8876ee3b7763"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8cpp.html#a3c02bab809bfa09716ad8876ee3b7763">vad_based_segmentation</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, <a class="el" href="structvad__state.html">vad_state</a> last_vad_state)</td></tr>
<tr class="memdesc:a3c02bab809bfa09716ad8876ee3b7763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments audio data based on Voice Activity Detection (VAD).  <a href="vad-processing_8cpp.html#a3c02bab809bfa09716ad8876ee3b7763">More...</a><br /></td></tr>
<tr class="separator:a3c02bab809bfa09716ad8876ee3b7763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1204aac912e7890f40cb46c012f2b700"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8cpp.html#a1204aac912e7890f40cb46c012f2b700">hybrid_vad_segmentation</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, <a class="el" href="structvad__state.html">vad_state</a> last_vad_state)</td></tr>
<tr class="memdesc:a1204aac912e7890f40cb46c012f2b700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments audio data using a hybrid Voice Activity Detection (VAD) algorithm.  <a href="vad-processing_8cpp.html#a1204aac912e7890f40cb46c012f2b700">More...</a><br /></td></tr>
<tr class="separator:a1204aac912e7890f40cb46c012f2b700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bfad207777817e7875f932a48aaee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vad-processing_8cpp.html#a83bfad207777817e7875f932a48aaee9">initialize_vad</a> (<a class="el" href="structtranscription__context.html">transcription_context</a> *gf, const char *silero_vad_model_file)</td></tr>
<tr class="memdesc:a83bfad207777817e7875f932a48aaee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Voice Activity Detection (VAD) system.  <a href="vad-processing_8cpp.html#a83bfad207777817e7875f932a48aaee9">More...</a><br /></td></tr>
<tr class="separator:a83bfad207777817e7875f932a48aaee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acc1a8ca89e8e894e151e881cc6b65b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc1a8ca89e8e894e151e881cc6b65b0e">&#9670;&nbsp;</a></span>get_data_from_buf_and_resample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_data_from_buf_and_resample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t &amp;&#160;</td>
          <td class="paramname"><em>start_timestamp_offset_ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t &amp;&#160;</td>
          <td class="paramname"><em>end_timestamp_offset_ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1204aac912e7890f40cb46c012f2b700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1204aac912e7890f40cb46c012f2b700">&#9670;&nbsp;</a></span>hybrid_vad_segmentation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvad__state.html">vad_state</a> hybrid_vad_segmentation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td>
          <td class="paramname"><em>last_vad_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments audio data using a hybrid Voice Activity Detection (VAD) algorithm. </p>
<p>This function processes the given transcription context to determine the current VAD state based on the provided last VAD state. It is used to segment audio data into speech and non-speech segments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context containing audio data and other relevant information. </td></tr>
    <tr><td class="paramname">last_vad_state</td><td>The last known VAD state, used as a reference for the current segmentation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current VAD state after processing the audio data. </dd></dl>

</div>
</div>
<a id="a83bfad207777817e7875f932a48aaee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83bfad207777817e7875f932a48aaee9">&#9670;&nbsp;</a></span>initialize_vad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_vad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>silero_vad_model_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Voice Activity Detection (VAD) system. </p>
<p>This function sets up the VAD system using the provided transcription context and the specified Silero VAD model file. It prepares the system to detect voice activity in audio streams.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context structure. </td></tr>
    <tr><td class="paramname">silero_vad_model_file</td><td>Path to the Silero VAD model file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c02bab809bfa09716ad8876ee3b7763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c02bab809bfa09716ad8876ee3b7763">&#9670;&nbsp;</a></span>vad_based_segmentation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvad__state.html">vad_state</a> vad_based_segmentation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtranscription__context.html">transcription_context</a> *&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvad__state.html">vad_state</a>&#160;</td>
          <td class="paramname"><em>last_vad_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments audio data based on Voice Activity Detection (VAD). </p>
<p>This function processes the given transcription context to determine segments of audio that contain speech, using the provided last VAD state as a reference.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gf</td><td>Pointer to the transcription context containing audio data and other relevant information for VAD processing. </td></tr>
    <tr><td class="paramname">last_vad_state</td><td>The last known state of the VAD, used to maintain continuity in segmentation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The updated VAD state after processing the current audio data. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
